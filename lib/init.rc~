[[ "${__MACABOARD_RC__:-no}" == "yes" ]] && return 0
__MACABOARD_RC__=yes

####
# Beware that this file is sourced both by bash 3.2 and 5 based scripts.
# Also source before and after installing homebrew.
# Thus, this must be written in a way, where they can work with every combination of those.

function ensure_being_able_to_do_sudo() {
  # Once sudo succeeds, it remmembers the password for 15 min.
  message "Let's ensure you can 'sudo'."
  sudo echo  "Good job!" >&2 || error "Failed to sudo!"
}

function macsed() {
  # Use macOS default sed explicitly.
  /usr/bin/sed "$@"    
}

function message() {
  echo "$@" >&2
}

function error() {
  message "$@"
  exit 1
}
